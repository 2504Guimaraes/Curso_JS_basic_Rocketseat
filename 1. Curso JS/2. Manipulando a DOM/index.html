<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Manipulando a DOM</title>
    </head>
    <body>

        <div id="container-btn"></div>
        <div class="container"></div>

        <script>
            
            //Exercício 01 e 02:
            
            // container para separar o botao dos quadrados criados...
            var container_btn = document.querySelector('div#container-btn');
            container_btn.style.margin = '0 auto';
            container_btn.style.height = '80px';
            container_btn.style.width = '80%';
            container_btn.style.textAlign = 'center';

            // container para onde serão enviados os quadrados criados...
            var container = document.querySelector('div.container');
            container.style.margin = '0 auto';
            container.style.minHeight = '140px';
            container.style.overflowY = 'auto';
            container.style.width = '70%';
            container.style.padding = '10px';
            container.style.boxSizing = 'border-box';
            
            // botao responsável pela criação dos quadrados...
            var botao = document.createElement('button');
            botao.setAttribute('id','btn-cria-quadrado');
            container_btn.appendChild(botao);
            botao.append('Criar novo quadrado');

                // folha de estilos do botao...    
                var botao_estilo = document.querySelector('button#btn-cria-quadrado');
                botao_estilo.style.height = '40px';
                botao_estilo.style.position = 'relative';
                botao_estilo.style.top = '20px';
                
                botao_estilo.onmouseover = function() {
                    botao_estilo.style.color = '#f00'; 
                } 
                botao_estilo.onmouseout = function() {
                    botao_estilo.style.color = '#000';
                }

                // ação de criar quadrados ao clicar no botao...
                botao.onclick = function() {
                    var newSquare = document.createElement('div');          // em vez de dar estilo direto pra newSquare, dei uma class a ele para não deixar outras divs
                    newSquare.setAttribute('class', 'quadrado-vermelho');   // dentro do container vulneráveis. Adicionaldo um FOR OF para selecionar cada indice dessa
                                                                            // classe de quadrados vermelhos.
                    container.appendChild(newSquare);
                    var quadrados = document.querySelectorAll('div.quadrado-vermelho');
                    for(var quadrado of quadrados) {
                        quadrado.style.height = '100px';
                        quadrado.style.width = '100px';
                        quadrado.style.backgroundColor = '#f00';
                        quadrado.style.margin = '10px';
                        quadrado.style.float = 'left';
                    }

                    // Exercício 2: Funções de mudar de "desmudar" de cor onHover: 
                    newSquare.onmouseover = function(){    

                        //---- Função "mudar para cor aleatória" dada pela Rocketseat ----
                        function getRandomColor() {
                            var letters = "0123456789ABCDEF";
                            var color = "#";
                            for (var i = 0; i < 6; i++) {
                                color += letters[Math.floor(Math.random() * 16)];
                            }
                            return color;
                        }
                        var newColor = getRandomColor();
                        //---- Função "mudar para cor aleatória" dada pela Rocketseat ----
                        quadrado.style.backgroundColor = newColor; 

                        
                    }

                    newSquare.onmouseout = function(){
                        quadrado.style.backgroundColor = '#f00';
                    }
                }

        </script>
    </body>
</html>